<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shubhi Valentine üíï</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%); 
      height: 100vh; display: flex; align-items: center; justify-content: center; font-family: 'Arial', sans-serif; 
    }
    .card { 
      background: white; border-radius: 20px; padding: 40px 30px; text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.1); 
      max-width: 300px; animation: heartbeat 2s infinite; 
    }
    @keyframes heartbeat { 0%,100%{transform:scale(1);} 50%{transform:scale(1.05);} }
    h1 { font-size: 28px; color: #ff6b9d; margin-bottom: 10px; }
    .subtitle { color: #666; font-size: 16px; margin-bottom: 30px; }
    .heart { font-size: 40px; color: #ff6b9d; margin-bottom: 20px; animation: bounce 1s infinite; }
    @keyframes bounce { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }
    button { 
      background: linear-gradient(45deg, #ff6b9d, #ff9a9e); color: white; border: none; padding: 15px 40px; 
      border-radius: 50px; font-size: 18px; cursor: pointer; transition: all 0.3s; box-shadow: 0 10px 20px rgba(255,107,157,0.3); 
    }
    button:hover { transform: scale(1.05); box-shadow: 0 15px 30px rgba(255,107,157,0.4); }
    button.shake { animation: shake 0.5s; }
    @keyframes shake { 0%,100%{transform:translateX(0);} 25%{transform:translateX(-5px);} 75%{transform:translateX(5px);} }
    .question { display: none; text-align: center; margin-top: 20px; }
    .question.active { display: block; animation: fadeIn 0.5s; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .q-text { font-size: 24px; color: #ff6b9d; margin-bottom: 10px; }
    .hint { font-size: 14px; color: #ff69b4; font-style: italic; margin-bottom: 10px; }
    .yes-no { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
    .yes-no button { padding: 12px 30px; font-size: 16px; }
    .input-section { display: none; margin-top: 20px; }
    .input-section.active { display: block; }
    input { width: 90%; padding: 12px; border: 2px solid #ff9a9e; border-radius: 25px; text-align: center; font-size: 16px; margin-bottom: 10px; }
    .user-response { font-size: 18px; color: #ff1493; padding: 15px; background: #ffeef2; border-radius: 15px; margin: 10px 0; }
    .final { display: none; }
    .final.active { display: block; font-size: 20px; color: #ff1493; animation: fadeIn 0.5s; text-align: center; }
    .signature { font-size: 24px; margin-top: 20px; color: #ff6b9d; }
  </style>
</head>
<body>
  <div class="card">
    <div class="heart">üíñ</div>
    <h1>Hey love</h1>
    <p class="subtitle">Open this special card for Shubhi üíï</p>
    <button onclick="startQuestions()">Click Now</button>
    
    <div id="questions" class="question">
      <div id="hint" class="hint"></div>
      <div class="q-text" id="q-text"></div>
      <div class="yes-no" id="yes-no">
        <button id="yes-btn" onclick="answerQuestion('yes')">Yes üíï</button>
        <button id="no-btn" onclick="answerQuestion('no')">No üòè</button>
      </div>
    </div>

    <div id="input-section" class="input-section">
      <div class="q-text" id="input-prompt">Type your answer for Shubhi...</div>
      <input type="text" id="user-input" placeholder="Type here üíï" onkeypress="handleInput(event)">
      <div id="response-display"></div>
      <button onclick="confirmInput()">Yes, perfect! üíñ</button>
    </div>
    
    <div id="final" class="final">
      <p>Shubhi, you're my forever! üíñ</p>
      <div class="signature">Love from Aniruddh üíù</div>
    </div>
  </div>

  <script>
    const questions = [
      "Will you be my Valentine, Shubhi?",  // First: Loops until Yes
      "Favorite memory with Shubhi?",
      "Dream date idea?",
      "Secret wish for us?",
      "Song that reminds you of Shubhi?",
      "Cutest nickname for Shubhi?",
      "Adventure we'd go on?",
      "One word for our vibe?",
      "Ready to be together forever? üíù"
    ];
    let currentQ = 0;
    let answeredYes = false;
    let waitingForInput = false;

    function startQuestions() {
      document.querySelector('.card > button').style.display = 'none';
      document.getElementById('questions').classList.add('active');
      showQuestion();
    }

    function showQuestion() {
      document.getElementById('q-text').textContent = questions[currentQ];
      document.getElementById('hint').textContent = '';
      answeredYes = false;
      waitingForInput = false;
      document.getElementById('input-prompt').textContent = 'Type your answer for Shubhi...';
      document.getElementById('yes-no').style.display = 'flex';
      document.getElementById('input-section').classList.remove('active');
    }

    function answerQuestion(answer) {
      const noBtn = document.getElementById('no-btn');
      if (answer === 'no') {
        noBtn.classList.add('shake');
        setTimeout(() => noBtn.classList.remove('shake'), 500);
        document.getElementById('hint').textContent = `Aww Shubhi, please say Yes! üòò`;
        return;  // Loop same question
      } else {
        answeredYes = true;
        // All questions after first get input
        if (currentQ >= 0) {  // Every Yes triggers input (except final flow)
          document.getElementById('questions').classList.remove('active');
          document.getElementById('input-section').classList.add('active');
          waitingForInput = true;
          return;
        }
      }
    }

    function handleInput(event) {
      if (event.key === 'Enter') confirmInput();
    }

    function confirmInput() {
      const input = document.getElementById('user-input').value.trim();
      if (input) {
        document.getElementById('response-display').innerHTML = `<div class="user-response">"${input}" üíï Love it, Shubhi!</div>`;
        setTimeout(nextQuestion, 1500);
      }
    }

    function nextQuestion() {
      currentQ++;
      if (currentQ >= questions.length) {
        document.getElementById('input-section').classList.remove('active');
        document.getElementById('final').classList.add('active');
        return;
      }
      document.getElementById('questions').classList.add('active');
      showQuestion();
    }
  </script>
</body>
</html>